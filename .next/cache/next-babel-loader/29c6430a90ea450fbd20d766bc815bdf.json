{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\with-mobx-app\\\\pages\\\\_app.js\";\nvar __jsx = React.createElement;\nimport App from 'next/app';\nimport React from 'react';\nimport { fetchInitialStoreState, Store } from '../store';\nimport { Provider } from 'mobx-react';\n\nvar MyMobxApp =\n/*#__PURE__*/\nfunction (_App) {\n  _inherits(MyMobxApp, _App);\n\n  function MyMobxApp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MyMobxApp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MyMobxApp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      store: new Store() // Fetching serialized(JSON) store state\n\n    };\n    return _this;\n  }\n\n  _createClass(MyMobxApp, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          Component = _this$props.Component,\n          pageProps = _this$props.pageProps;\n      return __jsx(Provider, {\n        store: this.state.store,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, __jsx(Component, _extends({}, pageProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      })));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(appContext) {\n        var appProps, initialStoreState;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return App.getInitialProps(appContext);\n\n              case 2:\n                appProps = _context.sent;\n                _context.next = 5;\n                return fetchInitialStoreState();\n\n              case 5:\n                initialStoreState = _context.sent;\n                return _context.abrupt(\"return\", _objectSpread({}, appProps, {\n                  initialStoreState: initialStoreState\n                }));\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }() // Hydrate serialized state to store\n\n  }, {\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      state.store.hydrate(props.initialStoreState);\n      return state;\n    }\n  }]);\n\n  return MyMobxApp;\n}(App);\n\nexport default MyMobxApp;","map":{"version":3,"sources":["C:\\xampp\\htdocs\\with-mobx-app\\pages\\_app.js"],"names":["App","React","fetchInitialStoreState","Store","Provider","MyMobxApp","state","store","props","Component","pageProps","appContext","getInitialProps","appProps","initialStoreState","hydrate"],"mappings":";;;;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,UAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,sBAAT,EAAiCC,KAAjC,QAA8C,UAA9C;AACA,SAASC,QAAT,QAAyB,YAAzB;;IAEMC,S;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,KAAK,EAAE,IAAIJ,KAAJ,EADD,CAIR;;AAJQ,K;;;;;;6BAqBC;AAAA,wBAC0B,KAAKK,KAD/B;AAAA,UACCC,SADD,eACCA,SADD;AAAA,UACYC,SADZ,eACYA,SADZ;AAEP,aACE,MAAC,QAAD;AAAU,QAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWC,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,SAAD,eAAeG,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,CADF;AAKD;;;;;;gDAvB4BC,U;;;;;;;uBACJX,GAAG,CAACY,eAAJ,CAAoBD,UAApB,C;;;AAAjBE,gBAAAA,Q;;uBAC0BX,sBAAsB,E;;;AAAhDY,gBAAAA,iB;mEAGDD,Q;AACHC,kBAAAA,iBAAiB,EAAjBA;;;;;;;;;;;;;;;;QAIJ;;;;6CACgCN,K,EAAOF,K,EAAO;AAC5CA,MAAAA,KAAK,CAACC,KAAN,CAAYQ,OAAZ,CAAoBP,KAAK,CAACM,iBAA1B;AACA,aAAOR,KAAP;AACD;;;;EApBqBN,G;;AA+BxB,eAAeK,SAAf","sourcesContent":["import App from 'next/app'\nimport React from 'react'\nimport { fetchInitialStoreState, Store } from '../store'\nimport { Provider } from 'mobx-react'\n\nclass MyMobxApp extends App {\n  state = {\n    store: new Store(),\n  }\n\n  // Fetching serialized(JSON) store state\n  static async getInitialProps(appContext) {\n    const appProps = await App.getInitialProps(appContext)\n    const initialStoreState = await fetchInitialStoreState()\n\n    return {\n      ...appProps,\n      initialStoreState,\n    }\n  }\n\n  // Hydrate serialized state to store\n  static getDerivedStateFromProps(props, state) {\n    state.store.hydrate(props.initialStoreState)\n    return state\n  }\n\n  render() {\n    const { Component, pageProps } = this.props\n    return (\n      <Provider store={this.state.store}>\n        <Component {...pageProps} />\n      </Provider>\n    )\n  }\n}\nexport default MyMobxApp\n"]},"metadata":{},"sourceType":"module"}